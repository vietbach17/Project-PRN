<Window x:Class="ManagementHotel.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ManagementHotel"
        mc:Ignorable="d"
        Title="Hotel Management" Height="450" Width="866">
    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="File">
                <MenuItem Header="Exit" Click="Exit_Click"/>
            </MenuItem>
            <MenuItem Header="Windows">
                <MenuItem x:Name="miLogin" Header="Login" Click="OpenLogin_Click"/>
                <MenuItem x:Name="miProfile" Header="My Profile" Click="OpenProfile_Click"/>
                <MenuItem x:Name="miRooms" Header="Rooms" Click="OpenRooms_Click"/>
                <MenuItem x:Name="miRoomTypes" Header="Room Types" Click="OpenRoomTypes_Click"/>
                <MenuItem x:Name="miCustomers" Header="Customers" Click="OpenCustomers_Click"/>
                <MenuItem x:Name="miBookings" Header="Bookings" Click="OpenBookings_Click"/>
                <MenuItem x:Name="miServices" Header="Services" Click="OpenServices_Click"/>
                <MenuItem x:Name="miInvoices" Header="Invoices" Click="OpenInvoices_Click"/>
                <MenuItem x:Name="miHousekeeping" Header="Housekeeping" Click="OpenHousekeeping_Click"/>
            </MenuItem>
        </Menu>
        <Grid Margin="8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="240"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Border Grid.Column="0" Background="{StaticResource SurfaceBrush}" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1" CornerRadius="8" Padding="12">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <TextBlock Text="Navigation" FontWeight="SemiBold" FontSize="14"/>
                    <StackPanel Grid.Row="1" Margin="0,12,0,0" VerticalAlignment="Stretch">
                        <Button x:Name="btnLoad" Margin="0,0,0,8" Click="btnLoad_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE72C;" Margin="0,0,8,0"/>
                                <TextBlock Text="Refresh Rooms"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="btnMyBookings" Margin="0,0,0,8" Click="OpenBookings_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE130;" Margin="0,0,8,0"/>
                                <TextBlock Text="My Bookings"/>
                            </StackPanel>
                        </Button>
                        <Separator x:Name="navMgmtSeparator" Margin="0,12,0,12"/>
                        <Button x:Name="btnNavRooms" Margin="0,0,0,8" Click="OpenRooms_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8B1;" Margin="0,0,8,0"/>
                                <TextBlock Text="Manage Rooms"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="btnNavBookings" Margin="0,0,0,8" Click="OpenBookings_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8B3;" Margin="0,0,8,0"/>
                                <TextBlock Text="Manage Bookings"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="btnNavRoomTypes" Margin="0,0,0,8" Click="OpenRoomTypes_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE90F;" Margin="0,0,8,0"/>
                                <TextBlock Text="Room Types"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="btnNavCustomers" Margin="0,0,0,8" Click="OpenCustomers_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE77B;" Margin="0,0,8,0"/>
                                <TextBlock Text="Customers"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="btnNavServices" Margin="0,0,0,8" Click="OpenServices_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xECAA;" Margin="0,0,8,0"/>
                                <TextBlock Text="Services"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="btnNavInvoices" Margin="0,0,0,8" Click="OpenInvoices_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE9D2;" Margin="0,0,8,0"/>
                                <TextBlock Text="Invoices"/>
                            </StackPanel>
                        </Button>
                        <Button x:Name="btnNavHousekeeping" Click="OpenHousekeeping_Click">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE2B1;" Margin="0,0,8,0"/>
                                <TextBlock Text="Housekeeping"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>
            <Grid Grid.Column="1" Margin="12,0,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="Rooms overview" FontSize="16" FontWeight="SemiBold" VerticalAlignment="Center"/>
                    <StackPanel Grid.Column="1" Orientation="Vertical" VerticalAlignment="Center" >
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock FontSize="12" Foreground="{StaticResource ForegroundDimBrush}" Text="Signed in as:" VerticalAlignment="Center"/>
                            <TextBlock x:Name="txtCurrentUser" FontWeight="SemiBold" VerticalAlignment="Center"/>
                            <Button x:Name="btnProfileQuick" Click="OpenProfile_Click" Margin="6,0,0,0" Background="Transparent" BorderBrush="{x:Null}" BorderThickness="0" Padding="2" ToolTip="My Profile">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE77B;" FontSize="16"/>
                            </Button>
                        </StackPanel>
                        <Button x:Name="btnProfileBelowSigned" Width="100" Margin="0,4,0,0" Click="OpenProfile_Click">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE77B;"/>
                                <TextBlock Text="Profile" Margin="6,0,0,0"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Grid>
                <DataGrid x:Name="dgRooms" Grid.Row="1" AutoGenerateColumns="False" Margin="0,12,0,12" IsReadOnly="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Room #" Binding="{Binding RoomNumber}" Width="*" ElementStyle="{StaticResource CenterAlignText}"/>
                        <DataGridTextColumn Header="Floor" Binding="{Binding Floor}" Width="*" ElementStyle="{StaticResource CenterAlignText}"/>
                        <DataGridTextColumn Header="Type" Binding="{Binding RoomType.Name}" Width="2*"/>
                        <DataGridTemplateColumn Header="Status" Width="*">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock HorizontalAlignment="Center" TextAlignment="Center">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Setter Property="Text" Value="Reserved"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding CurrentCustomerName}" Value="{x:Null}">
                                                        <Setter Property="Text" Value="{Binding Status}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding CurrentCustomerName}" Value="">
                                                        <Setter Property="Text" Value="{Binding Status}"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTextColumn Header="Price/Night" Binding="{Binding PricePerNight, StringFormat={}{0:N0} â‚«}" Width="*" ElementStyle="{StaticResource RightAlignText}"/>
                        <DataGridTextColumn x:Name="colCurrentCustomer" Header="Current Customer" Binding="{Binding CurrentCustomerName}" Width="2*"/>
                        <DataGridTemplateColumn x:Name="colBook" Header="Action" Width="Auto">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Content="Book" Padding="8,2" Click="BookRoom_Click">
                                        <Button.Style>
                                            <Style TargetType="Button">
                                                <Setter Property="IsEnabled" Value="False"/>
                                                <Style.Triggers>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{Binding Status}" Value="Available"/>
                                                            <Condition Binding="{Binding CurrentCustomerName}" Value=""/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="IsEnabled" Value="True"/>
                                                    </MultiDataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{Binding Status}" Value="Available"/>
                                                            <Condition Binding="{Binding CurrentCustomerName}" Value="{x:Null}"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="IsEnabled" Value="True"/>
                                                    </MultiDataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Button.Style>
                                    </Button>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
                <Button Grid.Row="2" Width="130" HorizontalAlignment="Right" Margin="0,0,0,4" Click="Logout_Click">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8AC;" Margin="0,0,6,0"/>
                        <TextBlock Text="Logout"/>
                    </StackPanel>
                </Button>
            </Grid>
        </Grid>
    </DockPanel>
</Window>
